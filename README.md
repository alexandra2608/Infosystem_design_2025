# Проектирование информационных систем
Репозиторий для реализации лабораторных работ по дисциплине.

## Команда
| Member | GitHub | ISU |
| --- | --- | --- |
| Ефимова Валерия Алексеевна | valerieefim | 336561 |
| Митряшкина Дарья Алексеевна | daryaami | 336829 |
| Шадрина Александра Валерьевна | alexandra2608 | 369035 |
| Шемелева Елизавета Сергеевна | shlmlv | 350653 |

## ЛР-1. k8s

Цель: ознакомиться с k8s, развернуть сервис с использованием minicube.

TBD


## ЛР-2. Разработка микросервисной архитектуры с GraphQL

Цель: ознакомиться с микросервисной архитектурой.

В рамках выполнения лабораторной работы была выбрана тема "Система управления библиотекой". Для ее реализации было создано 3 микросервиса - Книги, Участники и Выдачи.

### Схема базы данных

![image](https://github.com/user-attachments/assets/b962b70f-4083-47b7-9002-27c8d7b80fad)

### Итоговая структура

![image](https://github.com/user-attachments/assets/634eb784-ed2e-481c-a79d-4f835a7c9b58)

- books-service - микросервис Books
- members-service - микросервис Members
- loans-service - микросервис Loans
- gateway - единый GraphQL Gateway, объединяющий схемы микросервисов с помощью Apollo Federation
- library-frontend - клиентская часть приложения
- db.js - подключение к базе данных

В папке каждого микросервиса находятся файлы `schema.js` (GraphQL-схема микросервиса), `resolvers.js`(функции-обработчики GraphQL-запросов) и `index.js`(запуск микросервиса). В папке gateway находится файл `index.js` - GraphQL API Gateway (Apollo Gateway).

Таким образом, структура и схема взаимодействия следующие:
Frontend (React + Apollo Client) → API Gateway (GraphQL Gateway) → Микросервисы (Books, Members, Loans) → База данных (PostgreSQL)

### Запуск
Для начала необходимо создать базу данных в PostgreSQL и инициализировать таблички с соответствующими названиями и полями. Далее переменные подключения необходимо поместить в файл .env в корне проекта под названиями, соответствующими файлу `db.js`. После этого можно запускать приложение.

Для запуска приложения необходимо открыть как проект папку library-service (находится в папке lab-2), перейти в разных окнах терминала в папки books-service, members-service, loans-service и запустить каждый из них командой `node index.js`. Для одновременной работы с микросервисами стоит перейти в папку gateway и запустить единый GraphQL Gateway аналогичной командой `node index.js`. Чтобы протестировать приложение со стороны клиента, необходимо перейти в папку library-frontend и выполнить запуск с помощью команды `npm start`.

### Демонстрация 
TBD

## ЛР-3. Работа с Big Data

Цель: разработать простое приложение для работы с большими данными.

TBD
